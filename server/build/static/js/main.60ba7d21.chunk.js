(this.webpackJsonpmyapp=this.webpackJsonpmyapp||[]).push([[0],{221:function(e,t){},224:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(84),l=a.n(c),s=(a(95),a(2)),o=a(11),i=a(13),u=(a(96),a(1)),m=a.n(u),d=a(5),p=Object(d.a)(),h=Object(n.createContext)(),f=function(e){var t=Object(n.useState)([]),a=Object(s.a)(t,2),c=a[0],l=a[1],o=Object(n.useState)([]),i=Object(s.a)(o,2),u=i[0],d=i[1],f=Object(n.useState)([]),g=Object(s.a)(f,2),E=g[0],b=(g[1],Object(n.useState)([])),v=Object(s.a)(b,2),y=v[0],x=v[1],w=Object(n.useState)(),N=Object(s.a)(w,2),j=N[0],O=N[1],k=Object(n.useState)(!1),D=Object(s.a)(k,2),S=D[0],_=D[1],T=function(){_(!1)},C=function(){_(!0)},Y=function(){var e,t,a,n;return m.a.async((function(r){for(;;)switch(r.prev=r.next){case 0:if(0!==E.length){r.next=15;break}return T(),r.next=4,m.a.awrap(fetch("http://localhost:3000/users/vication/get-un/0",{method:"GET",headers:{"content-Type":"application/json"},credentials:"include"}));case 4:if(500===(e=r.sent).status){r.next=12;break}return r.next=8,m.a.awrap(e.json());case 8:t=r.sent,x(t),r.next=13;break;case 12:p.push("/login");case 13:r.next=28;break;case 15:return T(),r.next=18,m.a.awrap(fetch("http://localhost:3000/users/vication/get-un/".concat(E),{method:"GET",headers:{"content-Type":"application/json"},credentials:"include"}));case 18:if(500===(a=r.sent).status){r.next=27;break}return r.next=22,m.a.awrap(a.json());case 22:n=r.sent,x(n),E.splice(0,E.length),r.next=28;break;case 27:p.push("/login");case 28:case"end":return r.stop()}}))};return r.a.createElement(h.Provider,{value:{hendlespinerTrue:C,hendlespinerFalse:T,spiner:S,hendleFollow:function(){var e,t,a;return m.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return console.log("start follow"),C(),n.next=4,m.a.awrap(fetch("http://localhost:3000/users/vication/get-follow",{method:"GET",headers:{"content-Type":"application/json"},credentials:"include"}));case 4:if(500===(e=n.sent).status){n.next=14;break}return n.next=8,m.a.awrap(e.json());case 8:for(t=n.sent,d(t),a=0;a<t.length;a++)E.push(t[a].vicationID);Y(),n.next=15;break;case 14:p.push("/login");case 15:case"end":return n.stop()}}))},Follow:u,hendleUnFollow:Y,UnFollow:y,FollowID:E,hendleName:function(e){O(e)},name:j,hendleGetAllAdmin:function(){var e,t;return m.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:return C(),a.next=3,m.a.awrap(fetch("http://localhost:3000/admin/vication",{method:"GET",headers:{"content-Type":"application/json"},credentials:"include"}));case 3:if(500===(e=a.sent).status){a.next=12;break}return a.next=7,m.a.awrap(e.json());case 7:t=a.sent,T(),l(t),a.next=13;break;case 12:p.push("/login");case 13:case"end":return a.stop()}}))},allVication:c}},e.children)},g=a(7),E=a.n(g);function b(e){var t=Object(n.useContext)(h),a=t.hendleFollow,c=t.iduser;return r.a.createElement("div",{key:e.fol.vicationID,className:"card col-xl-3"},r.a.createElement("img",{src:e.fol.Image,className:"card-img-top",alt:"..."}),r.a.createElement("div",{className:"card-body"},r.a.createElement("h5",{className:"card-title col-xl-12"},e.fol.destination),r.a.createElement("p",{className:"card-text col-xl-12"}," ",e.fol.Description)),r.a.createElement("ul",{className:"list-group list-group-flush"},r.a.createElement("li",{className:"list-group-item col-xl-12"},r.a.createElement("strong",null,"Flight forth")," : ",r.a.createElement(E.a,{format:"DD/MM/YYYY"},e.fol.start_date)),r.a.createElement("li",{className:"list-group-item col-xl-12"},r.a.createElement("strong",null,"Flight back")," : ",r.a.createElement(E.a,{format:"DD/MM/YYYY"},e.fol.end_date)),r.a.createElement("li",{className:"list-group-item col-xl-12"},r.a.createElement("strong",null,"price")," : ",e.fol.price," $")),r.a.createElement("button",{className:"btn-outline-secondary",id:e.fol.vicationID,onClick:function(t){var n;return m.a.async((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,m.a.awrap(fetch("http://localhost:3000/users/vication/un-follow/".concat(t.target.id),{method:"POST",headers:{"content-Type":"application/json"},credentials:"include",body:""}));case 2:200===(n=r.sent).status?(e.socket.emit("user-change"),a(c)):500===n.status?e.hendle.history.push("/"):alert("something got worng, plz try again");case 4:case"end":return r.stop()}}))}},r.a.createElement("i",{className:"fas fa-heart-broken"})," Unfollow"))}function v(e){var t=Object(n.useContext)(h),a=t.hendleFollow,c=t.iduser;return r.a.createElement("div",{key:e.fol.vicationID,className:"card col-xl-3"},r.a.createElement("img",{src:e.fol.Image,className:"card-img-top",alt:"..."}),r.a.createElement("div",{className:"card-body"},r.a.createElement("h5",{className:"card-title col-xl-12"}," ",e.fol.destination),r.a.createElement("p",{className:"card-text col-xl-12"}," ",e.fol.Description)),r.a.createElement("ul",{className:"list-group list-group-flush"},r.a.createElement("li",{className:"list-group-item col-xl-12"},r.a.createElement("strong",null,"Flight forth")," : ",r.a.createElement(E.a,{format:"DD/MM/YYYY"},e.fol.start_date)),r.a.createElement("li",{className:"list-group-item col-xl-12"},r.a.createElement("strong",null,"Flight back")," : ",r.a.createElement(E.a,{format:"DD/MM/YYYY"},e.fol.end_date)),r.a.createElement("li",{className:"list-group-item col-xl-12"},r.a.createElement("strong",null,"price")," : ",e.fol.price," $")),r.a.createElement("button",{className:" btn-outline-info",id:e.fol.vicationID,onClick:function(t){var n;return m.a.async((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,m.a.awrap(fetch("http://localhost:3000/users/vication/add-vic/".concat(t.target.id),{method:"PUT",headers:{"content-Type":"application/json"},credentials:"include",body:""}));case 2:200===(n=r.sent).status?(e.socket.emit("user-change"),a(c)):500===n.status?e.hendle.history.push("/login"):alert("something got worng, plz try again");case 4:case"end":return r.stop()}}))}},r.a.createElement("i",{className:"fas fa-heart"})," follow"))}function y(e){var t=Object(n.useContext)(h),a=t.spiner,c=t.Follow,l=t.UnFollow;return r.a.createElement("div",{className:"main_box_user row my_row"},a?r.a.createElement("div",{className:"spinner-grow",role:"status"},r.a.createElement("span",{className:"sr-only"},"Loading...")):null,r.a.createElement("h1",{className:"title_user_box col-xl-12"},"Welcome to our vication site"),r.a.createElement("div",{className:"follow_vication container-fluid"},r.a.createElement("div",{className:"row my_row"},r.a.createElement("h2",{className:"col-xl-12"},"Vacations in your follow up"),c.length?null:r.a.createElement("p",{className:"col-xl-12"},"There are currently no follow-up vacations"),c.map((function(t){return r.a.createElement(b,{key:t.vicationID,fol:t,hendle:e.hendle,socket:e.socket})})))),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("div",{className:"un_follow_vication container-fluid"},r.a.createElement("div",{className:"row my_row"},r.a.createElement("h1",{className:"col-xl-12"},"Rest of the Vications you don't follow"),l.length?null:r.a.createElement("p",{className:"col-xl-12"},"There are currently no vications, you follow everyone !:)"),l.map((function(t){return r.a.createElement(v,{fol:t,key:t.vicationID,hendle:e.hendle,socket:e.socket})})))))}var x=a(31),w=a.n(x);function N(e){var t=Object(n.useContext)(h),a=t.name,c=t.hendleName,l=t.hendleFollow;Object(n.useEffect)((function(){s()}),[]),e.socket.on("admin-change",(function(){l()}));var s=function(){var t,a;return m.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return console.log("start verify"),n.next=3,m.a.awrap(fetch("http://localhost:3000/users/verify",{method:"POST",headers:{"content-Type":"application/json"},credentials:"include",body:""}));case 3:if(500!==(t=n.sent).status){n.next=8;break}e.hendle.history.push("/login"),n.next=13;break;case 8:return n.next=10,m.a.awrap(t.json());case 10:a=n.sent,c(a[1].user),l();case 13:case"end":return n.stop()}}))};return r.a.createElement("div",{className:"main_user_component container-fluid"},r.a.createElement("div",{className:"navbar_user row my_row"},r.a.createElement(w.a,null,r.a.createElement("h3",{className:"title_user col-xl-9"},"Hi ",a,", We're glad you're here"),r.a.createElement("button",{className:"log_out_btn btn-outline-secondary col-xl-3",onClick:function(){return m.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,m.a.awrap(fetch("http://localhost:3000/users/logOut",{method:"DELETE",headers:{"content-Type":"application/json"},credentials:"include",body:""}));case 2:200===t.sent.status?e.hendle.history.push("/"):alert("plz try again");case 4:case"end":return t.stop()}}))}},r.a.createElement("i",{className:"fas fa-sign-out-alt"}),"LogOut"))),r.a.createElement(y,{hendle:e.hendle,socket:e.socket}))}function j(e){var t=Object(n.useState)(""),a=Object(s.a)(t,2),c=a[0],l=a[1],o=Object(n.useState)(""),i=Object(s.a)(o,2),u=i[0],d=i[1],p=Object(n.useState)(""),h=Object(s.a)(p,2),f=h[0],g=h[1],E=Object(n.useState)(""),b=Object(s.a)(E,2),v=b[0],y=b[1],x={firstName:c,LastName:u,UserName:f,password_r:v};return r.a.createElement("div",{className:"register_component container-fluid"},r.a.createElement("h1",{className:"col-xl-12"},"Welcome to our Vacation Site,for Register Fill out the form, for Login Click the Login Button"),r.a.createElement("hr",null),r.a.createElement("form",{className:"col-xl-12",onSubmit:function(t){var a;return m.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return t.preventDefault(),n.next=3,m.a.awrap(fetch("http://localhost:3000/users/register",{method:"POST",headers:{"content-Type":"application/json"},body:JSON.stringify(x)}));case 3:a=n.sent,l(""),d(""),y(""),g(""),200===a.status?(alert("welcome"),e.hendle.history.push("/login")):400===a.status?alert("Oops, that UserName already exists in the system, Please try another one"):alert("something got worng,plz try again");case 9:case"end":return n.stop()}}))}},r.a.createElement("input",{onChange:function(e){return l(e.target.value)},type:"text",placeholder:"first name",value:c,required:!0}),r.a.createElement("input",{onChange:function(e){return d(e.target.value)},type:"text",placeholder:"last name",value:u,required:!0}),r.a.createElement("input",{onChange:function(e){return g(e.target.value)},type:"text",placeholder:"user name",value:f,required:!0}),r.a.createElement("input",{onChange:function(e){return y(e.target.value)},type:"password",placeholder:"Password",value:v,required:!0}),r.a.createElement("input",{className:"btn-outline-warning",type:"submit",value:"Register"})))}function O(e){var t=Object(n.useState)(""),a=Object(s.a)(t,2),c=a[0],l=a[1],i=Object(n.useState)(""),u=Object(s.a)(i,2),d=u[0],p=u[1],h={user:c,password:d};Object(n.useEffect)((function(){f()}),[]);var f=function(){return m.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return console.log("start verify"),t.next=3,m.a.awrap(fetch("http://localhost:3000/users/verify",{method:"POST",headers:{"content-Type":"application/json"},credentials:"include",body:""}));case 3:if(500===t.sent.status){t.next=9;break}console.log("worng token"),e.hendle.history.push("/main/user"),t.next=13;break;case 9:return t.next=11,m.a.awrap(fetch("http://localhost:3000/admin/verify",{method:"POST",headers:{"content-Type":"application/json"},credentials:"include",body:""}));case 11:500!==t.sent.status&&(e.hendle.history.push("/admin"),console.log("worng token admin/verify"));case 13:case"end":return t.stop()}}))};return r.a.createElement("div",{className:"login_component container-fluid"},r.a.createElement("div",{className:"row my_row"},r.a.createElement("h1",{className:"col-xl-12"},"Welcome to our Vacation Site,for login Fill out this form. "),r.a.createElement("hr",null),r.a.createElement("form",{className:"col-xl-12",onSubmit:function(t){var a,n;return m.a.async((function(r){for(;;)switch(r.prev=r.next){case 0:return t.preventDefault(),r.next=3,m.a.awrap(fetch("http://localhost:3000/users/Login",{method:"POST",headers:{"content-Type":"application/json"},credentials:"include",body:JSON.stringify(h)}));case 3:if(a=r.sent,l(""),p(""),422!==a.status){r.next=10;break}alert("One or more of the details is incorrect"),r.next=14;break;case 10:return r.next=12,m.a.awrap(a.json());case 12:!1===(n=r.sent)[2].admin&&200===a.status?(alert("welcome"),e.hendle.history.push("/main/user")):!0===n[2].admin&&200===a.status?e.hendle.history.push("/admin"):500===a.status&&alert("opss,something got worng,plz try again");case 14:case"end":return r.stop()}}))}},r.a.createElement("input",{onChange:function(e){return l(e.target.value)},type:"text",placeholder:"User name",value:c,required:!0}),r.a.createElement("input",{onChange:function(e){return p(e.target.value)},type:"password",placeholder:"Password",value:d,required:!0}),r.a.createElement("input",{className:"btn-outline-success",type:"submit",value:"Login"})),r.a.createElement(o.b,{to:"/register",className:"nav"},"If you haven't signed up to us yet, please sign up ")))}var k=a(87),D=a.n(k),S=a(52),_=a.n(S);function T(e){var t=Object(n.useContext)(h),a=t.hendleGetAllAdmin,c=t.allVication,l=Object(n.useState)(!1),o=Object(s.a)(l,2),i=o[0],u=o[1],d=Object(n.useState)(!1),p=Object(s.a)(d,2),f=p[0],g=p[1],b=Object(n.useState)(),v=Object(s.a)(b,2),y=v[0],x=v[1],w=Object(n.useState)(""),N=Object(s.a)(w,2),j=N[0],O=N[1],k=Object(n.useState)(""),S=Object(s.a)(k,2),T=S[0],C=S[1],Y=Object(n.useState)(""),F=Object(s.a)(Y,2),I=F[0],M=F[1],P=Object(n.useState)(""),q=Object(s.a)(P,2),U=q[0],A=q[1],L=Object(n.useState)(""),V=Object(s.a)(L,2),z=V[0],W=V[1],G=Object(n.useState)(""),J=Object(s.a)(G,2),R=J[0],B=J[1],$=Object(n.useState)(""),H=Object(s.a)($,2),Z=H[0],K=H[1],Q=Object(n.useState)(""),X=Object(s.a)(Q,2),ee=X[0],te=X[1],ae=Object(n.useState)(""),ne=Object(s.a)(ae,2),re=ne[0],ce=ne[1],le=Object(n.useState)(""),se=Object(s.a)(le,2),oe=se[0],ie=se[1],ue=Object(n.useState)(""),me=Object(s.a)(ue,2),de=me[0],pe=me[1],he=Object(n.useState)(""),fe=Object(s.a)(he,2),ge=fe[0],Ee=fe[1],be={Destination:Z,Description:ee,Image:re,start_date:oe,end_date:de,Price:ge},ve={Destination1:j,Description1:T,Image1:I,start_date1:U,end_date1:z,Price1:R},ye=function(t){var n;return m.a.async((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,m.a.awrap(fetch("http://localhost:3000/admin/delete/".concat(t.target.id),{method:"DELETE",headers:{"content-Type":"application/json"},credentials:"include",body:""}));case 2:200===(n=r.sent).status?(a(),e.socket.emit("admin-change")):500===n.status?e.hendle.history.push("/login"):alert("something got worng,plz try again");case 4:case"end":return r.stop()}}))};return r.a.createElement("div",{className:"row my_row"},r.a.createElement(D.a,null,r.a.createElement("button",{onClick:function(){return u(!i)},className:"btn_add  btn-outline-success"},r.a.createElement("i",{className:"fas fa-plus-square"}),"Add Vication")),i?r.a.createElement("div",{className:"boxForm"},r.a.createElement("div",{className:"form_add "},r.a.createElement(_.a,{right:!0},r.a.createElement("form",{onSubmit:function(t){var n;return m.a.async((function(r){for(;;)switch(r.prev=r.next){case 0:return t.preventDefault(),r.next=3,m.a.awrap(fetch("http://localhost:3000/admin/add",{method:"POST",headers:{"content-Type":"application/json"},credentials:"include",body:JSON.stringify(be)}));case 3:n=r.sent,K(""),te(""),ce(""),ie(""),pe(""),Ee(""),u(!i),200===n.status?(e.socket.emit("admin-change"),alert("The flight was added"),a()):500===n.status?e.hendle.history.push("/login"):alert("something got worng,plz try again");case 12:case"end":return r.stop()}}))}},r.a.createElement("button",{className:"btn_x1 btn-outline-danger",onClick:function(){return u(!i)}},r.a.createElement("i",{className:"fas fa-times"})),r.a.createElement("input",{onChange:function(e){return K(e.target.value)},type:"text",placeholder:"Destination",value:Z,required:!0}),r.a.createElement("input",{onChange:function(e){return te(e.target.value)},type:"text",placeholder:"Description",value:ee,required:!0}),r.a.createElement("input",{onChange:function(e){return ce(e.target.value)},placeholder:"copy link of image",type:"text",value:re,required:!0}),r.a.createElement("div",{className:"inputDateUpdate"}," Flight date: ",r.a.createElement("input",{onChange:function(e){return ie(e.target.value)},type:"date",value:oe,required:!0})),r.a.createElement("div",{className:"inputDateUpdate"}," Return Flight Date: ",r.a.createElement("input",{onChange:function(e){return pe(e.target.value)},type:"date",value:de,required:!0})),r.a.createElement("input",{onChange:function(e){return Ee(e.target.value)},type:"number",placeholder:"price",value:ge,required:!0}),r.a.createElement("input",{className:"btn-outline-success",type:"submit",value:"Add Vication"}))))):null,r.a.createElement("div",{className:"row my_row"},c.map((function(e){return r.a.createElement("div",{key:e.vicationID,id:e.vicationID,className:"card col-xl-3"},r.a.createElement("button",{className:"btn_u btn-outline-warning col-xl-2",id:e.vicationID,onClick:function(t){g(!f),x(t.target.id),O(e.destination),C(e.Description),M(e.Image),A(e.start_date),W(e.end_date),B(e.price)}},r.a.createElement("i",{className:"fas fa-pen-alt"})),r.a.createElement("button",{className:"btn_x btn-outline-danger col-xl-2",id:e.vicationID,onClick:ye},r.a.createElement("i",{id:e.vicationID,className:"fas fa-times"})),r.a.createElement("div",{className:"card-body"},r.a.createElement("img",{src:e.Image,className:"card-img-top",alt:"..."}),r.a.createElement("h5",{className:"card-title col-xl-12"},e.destination),r.a.createElement("p",{className:"card-text col-xl-12"},e.Description)),r.a.createElement("ul",{className:"list-group list-group-flush"},r.a.createElement("li",{className:"list-group-item col-xl-12"},r.a.createElement("strong",null,"Flight forth"),": ",r.a.createElement(E.a,{format:"DD/MM/YYYY"},e.start_date)),r.a.createElement("li",{className:"list-group-item col-xl-12"},r.a.createElement("strong",null,"Flight back"),": ",r.a.createElement(E.a,{format:"DD/MM/YYYY"},e.end_date)),r.a.createElement("li",{className:"list-group-item col-xl-12"},r.a.createElement("strong",null,"price"),": ",e.price," $")))})),f?r.a.createElement("div",{className:"boxForm"},r.a.createElement("div",{className:"form_update"},r.a.createElement(_.a,{left:!0},r.a.createElement("button",{className:"btn_x1 btn-outline-danger",onClick:function(){return g(!f)}},r.a.createElement("i",{className:"fas fa-times"})),r.a.createElement("form",{id:y,onSubmit:function(t){var n;return m.a.async((function(r){for(;;)switch(r.prev=r.next){case 0:return t.preventDefault(),r.next=3,m.a.awrap(fetch("http://localhost:3000/admin/update/".concat(t.target.id),{method:"PUT",headers:{"content-Type":"application/json"},credentials:"include",body:JSON.stringify(ve)}));case 3:n=r.sent,K(""),te(""),ce(""),ie(""),pe(""),Ee(""),g(!f),200===n.status?(e.socket.emit("admin-change"),alert("The flight was change"),a()):500===n.status?e.hendle.history.push("/login"):alert("something got worng,plz try again");case 12:case"end":return r.stop()}}))}},r.a.createElement("input",{onChange:function(e){return O(e.target.value)},type:"text",placeholder:"Destination",value:j}),r.a.createElement("input",{onChange:function(e){return C(e.target.value)},type:"text",placeholder:"Description",value:T}),r.a.createElement("input",{onChange:function(e){return M(e.target.value)},type:"text",src:I,placeholder:"Image",value:I}),r.a.createElement("div",{className:"inputDateUpdate"},"Flight date: ",r.a.createElement("input",{onChange:function(e){return A(e.target.value)},type:"date",value:U,required:!0})," (",r.a.createElement(E.a,{format:"DD/MM/YYYY"},U),")"),r.a.createElement("div",{className:"inputDateUpdate"},"Return Flight Date: ",r.a.createElement("input",{onChange:function(e){return W(e.target.value)},type:"date",value:z,required:!0})," (",r.a.createElement(E.a,{format:"DD/MM/YYYY"},z),")"),r.a.createElement("input",{onChange:function(e){return B(e.target.value)},type:"number",placeholder:"price",value:R}),r.a.createElement("input",{className:"btn-outline-success",type:"submit",value:"Update Vication"}))))):null))}var C=a(88);function Y(e){var t=Object(n.useContext)(h).allVication,a=Object(n.useState)([]),c=Object(s.a)(a,2),l=c[0],o=c[1],i=Object(n.useState)([]),u=Object(s.a)(i,2),m=u[0];u[1];Object(n.useEffect)((function(){d()}),[]);var d=function(){t.map((function(e){l.push(e.followers);var t="#"+((1<<24)*Math.random()|0).toString(16);m.push(t)}));var e=l.concat(l);o([e])},p=Object(n.useState)({labels:t.map((function(e){return"'".concat(e.destination,",'")})),datasets:[{label:"DataBase-followers",fill:!1,borderWidth:2,backgroundColor:m,data:l}]}),f=Object(s.a)(p,2),g=f[0];f[1];return r.a.createElement("div",{className:"chart"},r.a.createElement(C.a,{options:{title:{display:!0,text:"Vication Followers",fontSize:20},responsive:!0,maintainAspectRatio:!1,scales:{yAxes:[{ticks:{beginAtZero:!0}}]}},data:g}))}var F=a(32),I=a.n(F);function M(e){var t=I()("http://localhost:3000"),a=Object(n.useState)(t),c=Object(s.a)(a,2),l=c[0],u=(c[1],Object(n.useContext)(h)),d=u.name,p=u.hendleGetAllAdmin,f=u.spiner,g=u.hendleName;Object(n.useEffect)((function(){E()}),[]),l.on("user-change",(function(){p()}));var E=function(){var t,a;return m.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,m.a.awrap(fetch("http://localhost:3000/admin/verify",{method:"POST",headers:{"content-Type":"application/json"},credentials:"include",body:""}));case 2:if(500!==(t=n.sent).status){n.next=7;break}e.hendle.history.push("/"),n.next=12;break;case 7:return n.next=9,m.a.awrap(t.json());case 9:a=n.sent,g(a[1].user),p();case 12:case"end":return n.stop()}}))};return r.a.createElement(o.a,null,r.a.createElement("div",{className:"main_admin container-fluid"},r.a.createElement("div",{className:"navbar_admin row my_row"},r.a.createElement(w.a,{left:!0},r.a.createElement("h4",{className:"title_admin col-xl-8"},"Hi ",d,", We're glad you're here"),r.a.createElement("div",{className:"div_navlink col-xl-2"},r.a.createElement(o.b,{to:"/admin/list"},r.a.createElement("button",{className:"btn-outline-secondary"}," ",r.a.createElement("i",{className:"fas fa-globe-europe"}),"list"))),r.a.createElement("div",{className:"div_navlink col-xl-2"},r.a.createElement(o.b,{to:"/admin/chart"},r.a.createElement("button",{className:"btn-outline-secondary"},r.a.createElement("i",{className:"fas fa-chart-line"}),"chart"))),r.a.createElement("div",{className:"div_navlink col-xl-2"},r.a.createElement("button",{className:"btn-outline-secondary",onClick:function(){var t;return m.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,m.a.awrap(fetch("http://localhost:3000/admin/logOut",{method:"DELETE",headers:{"content-Type":"application/json"},credentials:"include",body:""}));case 2:t=a.sent,console.log(t),200===t.status?e.hendle.history.push("/"):alert("plz try again");case 5:case"end":return a.stop()}}))}},r.a.createElement("i",{className:"fas fa-sign-out-alt"}),"LogOut")))),r.a.createElement("div",{className:"components_admin "},f?r.a.createElement("div",{className:"spinner-grow",role:"status"},r.a.createElement("span",{className:"sr-only"},"Loading...")):null,r.a.createElement(i.d,null,r.a.createElement(i.b,{path:"/admin/list",component:function(){return r.a.createElement(T,{hendle:e.hendle,socket:l})}}),r.a.createElement(i.b,{path:"/admin/chart",component:function(){return r.a.createElement(Y,{socket:l})}}),r.a.createElement(i.a,{to:"/admin/list"})))))}var P=function(){var e=I()("http://localhost:3000"),t=Object(n.useState)(e),a=Object(s.a)(t,2),c=a[0];return a[1],r.a.createElement(o.a,null,r.a.createElement(f,null,r.a.createElement("div",{className:"App"},r.a.createElement(i.d,null,r.a.createElement(i.b,{path:"/login",component:function(e){return r.a.createElement(O,{hendle:e})}}),r.a.createElement(i.b,{path:"/register",component:function(e){return r.a.createElement(j,{hendle:e})}}),r.a.createElement(i.b,{path:"/main/user",component:function(e){return r.a.createElement(N,{hendle:e,socket:c})}}),r.a.createElement(i.b,{path:"/admin",component:function(e){return r.a.createElement(M,{hendle:e})}}),r.a.createElement(i.a,{from:"/",to:"/login"})))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));l.a.render(r.a.createElement(P,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))},90:function(e,t,a){e.exports=a(224)},95:function(e,t,a){},96:function(e,t,a){}},[[90,1,2]]]);
//# sourceMappingURL=main.60ba7d21.chunk.js.map